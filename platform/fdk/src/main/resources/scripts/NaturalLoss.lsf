MODULE NaturalLoss;

REQUIRE Document, PriceList, Sales;

GROUP rateGroup 'Нормы' : public;

 // ----------------------------------- Справочник норм естественной убыли -------------------------------------------- //

 CLASS naturalLossGroup 'Группа естественной убыли': named, externalizable;

 CLASS subNaturalLossGroup 'Группа естественной убыли': named, externalizable;
 CLASS subNaturalLossGroupDetail 'Строка группы естественной убыли' : externalizable;

 parentNaturalLossGroup = DATA naturalLossGroup (subNaturalLossGroup);
 nameParentNaturalLossGroup 'Родительская группа' (subNaturalLossGroup) = name(parentNaturalLossGroup(subNaturalLossGroup));
 codeSubNaturalLossGroup 'Код нормы естественной убыли' = DATA STRING[3] (subNaturalLossGroup);

 nameToNaturalLossGroup (name) = GROUP UNIQUE naturalLossGroup BY name(naturalLossGroup) WHERE naturalLossGroup IS naturalLossGroup;
 subNaturalLossGroupSubNaturalLossGroupDetail = DATA subNaturalLossGroup (subNaturalLossGroupDetail);
 dayFromNaturalLossGroupDetail 'День' = DATA INTEGER (subNaturalLossGroupDetail);
 monthFromNaturalLossGroupDetail = DATA month (subNaturalLossGroupDetail);
 nameMonthFromNaturalLossGroupDetail 'Месяц' = name(monthFromNaturalLossGroupDetail(subNaturalLossGroupDetail));
 dayToNaturalLossGroupDetail 'День' = DATA INTEGER (subNaturalLossGroupDetail);
 monthToNaturalLossGroupDetail = DATA month (subNaturalLossGroupDetail);
 nameMonthToNaturalLossGroupDetail 'Месяц' = name(monthToNaturalLossGroupDetail(subNaturalLossGroupDetail));
 percentNaturalLossGroupDetail '% естественной убыли' = DATA NUMERIC[10,5] (subNaturalLossGroupDetail);

 dateToNumber(prm1, prm2) = prm2*32 + prm1;
 inInterval(prm1, prm2, prm3, prm4, prm5, prm6) = (dateToNumber(prm1, prm2) >= dateToNumber(prm3, prm4))
                                                   AND (dateToNumber(prm1, prm2) <= dateToNumber(prm5, prm6));

 inIntervalNaturalLoss (date, subNaturalLossGroupDetail) =
     inInterval(dayInDate(date), numberMonthInDate(date),
                dayFromNaturalLossGroupDetail(subNaturalLossGroupDetail),
                numberMonth(monthFromNaturalLossGroupDetail(subNaturalLossGroupDetail)),
                dayToNaturalLossGroupDetail(subNaturalLossGroupDetail),
                numberMonth(monthToNaturalLossGroupDetail(subNaturalLossGroupDetail))) AND date IS DATE;

 castInterval =
     FORMULA STRING[100] ' CAST($1 AS TEXT) || \' \' || CAST($2 AS TEXT) || \' - \' || CAST($3 AS TEXT) || \' \' || CAST($4 AS TEXT)';
 castIntervalNaturalLoss (subNaturalLossGroupDetail) =
     castInterval(dayFromNaturalLossGroupDetail(subNaturalLossGroupDetail),
                  nameMonthFromNaturalLossGroupDetail(subNaturalLossGroupDetail),
                  dayToNaturalLossGroupDetail(subNaturalLossGroupDetail),
                  nameMonthToNaturalLossGroupDetail(subNaturalLossGroupDetail));

 concatSubNaturalLossGroupDetail (subNaturalLossGroup) =
     GROUP CONCAT toString15(percentNaturalLossGroupDetail(subNaturalLossGroupDetail)), ','
           BY subNaturalLossGroupSubNaturalLossGroupDetail(subNaturalLossGroupDetail)
           ORDER subNaturalLossGroupDetail
           MINCHARWIDTH 10 PREFCHARWIDTH 30;

 inSubNaturalLossGroup (subNaturalLossGroup, subNaturalLossGroupDetail) =
     subNaturalLossGroupSubNaturalLossGroupDetail(subNaturalLossGroupDetail) ==  subNaturalLossGroup;

 subNaturalLossGroupCountrySku 'Группа естественной убыли товара(ИД)' = ABSTRACT subNaturalLossGroup (country, sku);
 nameSubNaturalLossGroupCountrySku 'Группа естественной убыли товара' (country, sku) = name(subNaturalLossGroupCountrySku(country, sku)) IN rateGroup;
 rateSubNaturalLossGroupCountrySku 'Норма естественной убыли, %' (country, sku) =
     concatSubNaturalLossGroupDetail(subNaturalLossGroupCountrySku(country, sku)) IN rateGroup;

 inParentNaturalLossGroup(naturalLossGroup, subNaturalLossGroup) =
     parentNaturalLossGroup(subNaturalLossGroup ) == naturalLossGroup;

 inParentSubNaturalLossGroup (naturalLossGroup, subNaturalLossGroup) = UNION OVERRIDE
     parentNaturalLossGroup(subNaturalLossGroup) == naturalLossGroup,
     subNaturalLossGroup IS subNaturalLossGroup AND NOT naturalLossGroup;

 numberFromSubNaturalLossGroupDetail (subNaturalLossGroupDetail) =
     dateToNumber(dayFromNaturalLossGroupDetail(subNaturalLossGroupDetail),
                  numberMonth(monthFromNaturalLossGroupDetail(subNaturalLossGroupDetail)));

 numberToSubNaturalLossGroupDetail (subNaturalLossGroupDetail) =
     dateToNumber(dayToNaturalLossGroupDetail(subNaturalLossGroupDetail),
                  numberMonth(monthToNaturalLossGroupDetail(subNaturalLossGroupDetail)));

 intersect(prm1, prm2, prm3, prm4) = (prm4-prm1)*(prm2-prm3) >= 0;

 intersectNaturalLoss(interval1, interval2) = intersect(numberFromSubNaturalLossGroupDetail(interval1),
                                                        numberToSubNaturalLossGroupDetail(interval1),
                                                        numberFromSubNaturalLossGroupDetail(interval2),
                                                        numberToSubNaturalLossGroupDetail(interval2));

 CONSTRAINT intersectNaturalLoss(interval1, interval2) AND interval1 != interval2
            AND subNaturalLossGroupSubNaturalLossGroupDetail(interval1) == subNaturalLossGroupSubNaturalLossGroupDetail(interval2)
            CHECKED BY intersectNaturalLoss MESSAGE 'Интервалы не могут пересекаться';

     CONSTRAINT dayFromNaturalLossGroupDetail(subNaturalLossGroupDetail) < 1
            OR dayFromNaturalLossGroupDetail(subNaturalLossGroupDetail) > 31
            CHECKED BY dayFromNaturalLossGroupDetail MESSAGE 'Задайте корректный день месяца';

     CONSTRAINT dayToNaturalLossGroupDetail(subNaturalLossGroupDetail) < 1
            OR dayToNaturalLossGroupDetail(subNaturalLossGroupDetail) > 31
            CHECKED BY dayToNaturalLossGroupDetail MESSAGE 'Задайте корректный день месяца';

countryNaturalLossGroup = DATA country (naturalLossGroup) AUTOSET;
nameCountryNaturalLossGroup 'Страна' (naturalLossGroup) = name(countryNaturalLossGroup(naturalLossGroup)) IN base;

countrySubNaturalLossGroup = DATA country (subNaturalLossGroup) AUTOSET;
nameCountrySubNaturalLossGroup 'Страна' (subNaturalLossGroup) = name(countrySubNaturalLossGroup(subNaturalLossGroup)) IN base;

CONSTRAINT  countryNaturalLossGroup(parentNaturalLossGroup(subNaturalLossGroup)) !=  countrySubNaturalLossGroup(subNaturalLossGroup)
    CHECKED BY parentNaturalLossGroup MESSAGE 'Страна родительской группы должна совпадать со страной группы';

FORM subNaturalLossGroup 'Группа естественное убыли'

    OBJECTS s = subNaturalLossGroup FIXED PANEL
    PROPERTIES(s) name, nameParentNaturalLossGroup, nameCountrySubNaturalLossGroup

    EDIT subNaturalLossGroup OBJECT s
;

FORM dialogSubNaturalLossGroup 'Группа естественное убыли'

    OBJECTS s = subNaturalLossGroup
    PROPERTIES(s) READONLY name, nameParentNaturalLossGroup, nameCountrySubNaturalLossGroup

    DIALOG subNaturalLossGroup OBJECT s
;

FORM subNaturalLossGroupDetail 'Строка группы естественной убыли'

    OBJECTS s = subNaturalLossGroupDetail
    PROPERTIES(s) READONLY dayFromNaturalLossGroupDetail, nameMonthFromNaturalLossGroupDetail,
                           dayToNaturalLossGroupDetail, nameMonthToNaturalLossGroupDetail, percentNaturalLossGroupDetail

    DIALOG subNaturalLossGroupDetail OBJECT s
;

FORM naturalLossGroups 'Справочник норм естественной убыли'
    OBJECTS c=country FIXED PANEL
    PROPERTIES(c) SELECTOR name

    TREE treeNaturalLoss a=STRING[3], n=naturalLossGroup
    PROPERTIES READONLY OBJVALUE(a)
    PROPERTIES name(n), nameCountryNaturalLossGroup(n), ADDOBJ(n), delete(n) FORCE PANEL DRAWTOTOOLBAR
    ORDER BY name(n)

    OBJECTS sg=subNaturalLossGroup, d=subNaturalLossGroupDetail
    PROPERTIES(sg) name, nameCountrySubNaturalLossGroup, nameParentNaturalLossGroup,
                   codeSubNaturalLossGroup, ADDFORM TODRAW sg, delete FORCE PANEL DRAWTOTOOLBAR
    PROPERTIES(d) dayFromNaturalLossGroupDetail, nameMonthFromNaturalLossGroupDetail,
                  dayToNaturalLossGroupDetail, nameMonthToNaturalLossGroupDetail,
                  percentNaturalLossGroupDetail, ADDOBJ, delete
    FILTERS stringEqualsAll(a), inParentSubNaturalLossGroup(n, sg),  inSubNaturalLossGroup(sg, d)
    ORDER BY name(sg)

    FILTERS countryNaturalLossGroup(n) == c OR n IS naturalLossGroup AND NOT c,
            countrySubNaturalLossGroup(sg) == c OR sg IS subNaturalLossGroup AND NOT c
;

DESIGN naturalLossGroups FROM DEFAULT {

    NEW topContainer {
        childConstraints = TO THE BOTTOM;
        ADD c.box;
        NEW firstContainer{
            type = SPLITH;
            childConstraints = TO THE RIGHT;
            ADD treeNaturalLoss.tree.box;
            NEW firstCase {
                type = SPLITV;
                childConstraints = TO THE BOTTOM;
                fillHorizontal = 4;
                ADD sg.box;
                ADD d.box;
            }
        }
    }

    ADD functions.box;

    PROPERTY (delete(n)) {
    caption = 'Удалить';
    askConfirm = TRUE;
    }

    PROPERTY (delete(sg)) {
    caption = 'Удалить';
    askConfirm = TRUE;
    }
}

//------------------------------------- Ведомость расчета естественной убыли ----------------------------------//

CLASS naturalLoss 'Ведомость естественной убыли' : historizable, externalizable, numberedObject;
CLASS naturalLossDetail 'Строка ведомости естественной убыли': externalizable;
CLASS naturalLossPosted 'Проведенная ведомость естественной убыли' : naturalLoss, postedObject;

@defineDocument(naturalLoss);
//@defineDocumentDepartmentStore(naturalLoss);
@defineDocumentStock(naturalLoss, stock, 'Склад');
@defineDocumentPosted(naturalLoss);

@defineDocumentDetailSku(naturalLoss, sku);
//@defineDocumentDetailSkuItem(naturalLoss);

@defineDocumentDetailQuantity(naturalLoss);
//@defineDocumentDetailBasePrice(naturalLoss, departmentStore);

@defineDocumentHeaderQuantity(naturalLoss);

//countryNaturalLoss(naturalLoss) = countryLegalEntity(legalEntityStore(storeDepartmentStore(departmentStoreNaturalLoss(naturalLoss))));
countryNaturalLossDetail(naturalLossDetail) = countryNaturalLoss(naturalLossNaturalLossDetail(naturalLossDetail));

dateFromNaturalLoss 'с' = DATA DATE (naturalLoss) IN documentPrmGroup;
dateToNaturalLoss 'по' = DATA DATE (naturalLoss) IN documentPrmGroup;

dateFromNaturalLossDetail 'с' (naturalLossDetail) = dateFromNaturalLoss(naturalLossNaturalLossDetail(naturalLossDetail));
dateToNaturalLossDetail 'по' (naturalLossDetail) = dateToNaturalLoss(naturalLossNaturalLossDetail(naturalLossDetail));

subNaturalLossGroupNaturalLossDetail = DATA subNaturalLossGroup (naturalLossDetail);
nameSubNaturalLossGroupNaturalLossDetail 'Группа естественной убыли' =
    name(subNaturalLossGroupNaturalLossDetail(naturalLossDetail));
codeNaturalLossDetail 'Код нормы естественной убыли' =
    codeSubNaturalLossGroup(subNaturalLossGroupNaturalLossDetail(naturalLossDetail));

quantityLossNaturalLossDetail 'Кол-во' = DATA NUMERIC[14,3] (naturalLossDetail);

@defineDocumentDetailBatchCustomPrefix(naturalLossDetail, batch, );
quantityLossNaturalLossDetail(naturalLossDetail) <- quantityBatch(batchNaturalLossDetail(naturalLossDetail))
    WHEN CHANGED(batchNaturalLossDetail(naturalLossDetail));

@defineDocumentDetailPricePrefix (naturalLoss, , ' учетная ');
@deriveDocumentDetailPriceSystemLedgerPriceListTypeBatch (naturalLoss, accountPriceListType, , , sku, stock);

subNaturalDetailNaturalLossDetail = DATA subNaturalLossGroupDetail(naturalLossDetail);
nameSubNaturalDetailNaturalLossDetail 'Период' (naturalLossDetail) =
    castIntervalNaturalLoss(subNaturalDetailNaturalLossDetail(naturalLossDetail));

percentNaturalLossDetail 'Норма естественной убыли, %' = DATA NUMERIC[10,3] (naturalLossDetail);
percentNaturalLossDetail(naturalLossDetail) <- percentNaturalLossGroupDetail(subNaturalDetailNaturalLossDetail(naturalLossDetail))
    WHEN CHANGED(subNaturalDetailNaturalLossDetail(naturalLossDetail));

castTwoObjectsToString150 = FORMULA STRING[150] 'CAST($1 AS TEXT) || \'  \' || CAST($2 AS TEXT)';
castNameSubNaturalLossGroup 'Группа естественной убыли' (naturalLossDetail) =
    castTwoObjectsToString150(nameSubNaturalLossGroupNaturalLossDetail(naturalLossDetail),
                              nameSubNaturalDetailNaturalLossDetail(naturalLossDetail));

CONSTRAINT subNaturalLossGroupNaturalLossDetail(naturalLossDetail) != subNaturalLossGroupSubNaturalLossGroupDetail(subNaturalDetailNaturalLossDetail(naturalLossDetail))
    CHECKED BY subNaturalDetailNaturalLossDetail MESSAGE 'Группа естественной убыли товара должна соответствовать группе периода';

quantityNaturalLossDetail (naturalLossDetail) <- percentNaturalLossDetail(naturalLossDetail) * quantityLossNaturalLossDetail(naturalLossDetail) /100
    WHEN CHANGED(percentNaturalLossDetail(naturalLossDetail)) OR
         CHANGED(quantityLossNaturalLossDetail(naturalLossDetail));

quantitySoldSkuDepartmentNaturalLoss 'Продано' (sku, stock, dateFrom, dateTo, subNaturalLossGroupDetail) =
    GROUP SUM quantitySalesLedger(ledger) AND dateSalesLedger(ledger) >= (dateFrom AS DATE) AND dateSalesLedger(ledger) <= (dateTo AS DATE)
              AND inIntervalNaturalLoss(dateSalesLedger(ledger), subNaturalLossGroupDetail)
              AND subNaturalLossGroupCountrySku(countryStock(stockSalesLedger(ledger)), skuSalesLedger(ledger)) == subNaturalLossGroupSubNaturalLossGroupDetail(subNaturalLossGroupDetail)
              BY skuSalesLedger(ledger), stockSalesLedger(ledger), dateFrom, dateTo, subNaturalLossGroupDetail;

sumNaturalLossDetail 'Сумма' (naturalLossDetail) = DATA NUMERIC[16,2] (naturalLossDetail);
sumNaturalLossDetail (naturalLossDetail) <- priceNaturalLossDetail(naturalLossDetail) * quantityNaturalLossDetail(naturalLossDetail)
    WHEN CHANGED(priceNaturalLossDetail(naturalLossDetail)) OR
         CHANGED(quantityNaturalLossDetail(naturalLossDetail));

sumNaturalLoss 'Сумма' (naturalLoss) = GROUP SUM sumNaturalLossDetail(naturalLossDetail)
    BY naturalLossNaturalLossDetail(naturalLossDetail) IN documentSumGroup;

toFillNaturalLossDetail 'Заполнить на основе продаж' = ACTION (naturalLoss) {
    FOR quantitySoldSkuDepartmentNaturalLoss( sku,
                                              stockNaturalLoss(naturalLoss),
                                              dateFromNaturalLoss(naturalLoss),
                                              dateToNaturalLoss(naturalLoss),
                                              subNaturalLossGroupDetail) ORDER nameSku(sku), subNaturalLossGroupDetail
        DO {
        FOR ADDOBJ d = naturalLossDetail DO {
            SET naturalLossNaturalLossDetail(d) <- naturalLoss;
            SET skuNaturalLossDetail(d) <- sku AS sku;
            SET subNaturalLossGroupNaturalLossDetail(d) <- subNaturalLossGroupCountrySku(countryNaturalLoss(naturalLossNaturalLossDetail(d)), sku AS sku);
            SET quantityLossNaturalLossDetail(d) <- quantitySoldSkuDepartmentNaturalLoss(
                                                                    sku AS sku,
                                                                    stockNaturalLoss(naturalLoss),
                                                                    dateFromNaturalLoss(naturalLoss),
                                                                    dateToNaturalLoss(naturalLoss),
                                                                    subNaturalLossGroupDetail AS subNaturalLossGroupDetail);
            SET subNaturalDetailNaturalLossDetail(d) <- subNaturalLossGroupDetail AS subNaturalLossGroupDetail;
            SET percentNaturalLossDetail(d) <- percentNaturalLossGroupDetail(subNaturalLossGroupDetail AS subNaturalLossGroupDetail);
            SET quantityNaturalLossDetail (d) <- percentNaturalLossDetail(d) * quantityLossNaturalLossDetail(d) /100;
            SET sumNaturalLossDetail (d) <- priceNaturalLossDetail(d) * quantityNaturalLossDetail(d);
        };
    };
} IN documentPrmGroup CONFIRM;

FORM naturalLoss 'Ведомость естественной убыли'
    OBJECTS s=naturalLoss FIXED PANEL
    PROPERTIES(s) objectClassName, numberObject, nameStockNaturalLoss, timeNaturalLoss, seriesObject,
                  dateNaturalLoss, dateFromNaturalLoss, dateToNaturalLoss, toFillNaturalLossDetail,
                  quantityNaturalLossDetailNaturalLoss, sumNaturalLoss, noteNaturalLoss
    OBJECTS d=naturalLossDetail
    PROPERTIES(d) indexNaturalLossDetail, idBarcodeSkuNaturalLossDetail, nameSkuNaturalLossDetail, shortNameUOMSkuNaturalLossDetail,
                  descriptionBatchNaturalLossDetail, quantityLossNaturalLossDetail, nameSubNaturalLossGroupNaturalLossDetail,
                  codeNaturalLossDetail, nameSubNaturalDetailNaturalLossDetail, percentNaturalLossDetail, quantityNaturalLossDetail, priceNaturalLossDetail,
                  sumNaturalLossDetail, ADDOBJ, delete

    FILTERS inNaturalLossNaturalLossDetail(s, d)

    EVENTS
        ON OK EXEC prePostNaturalLoss(s)

    EDIT naturalLoss OBJECT s
;

DESIGN naturalLoss FROM DEFAULT{

    NEW header.box  BEFORE d.box{
        childConstraints = TO THE RIGHT;

        NEW headerCol1 {
            childConstraints = TO THE BOTTOM;

            ADD s.documentHeaderGroup {
                childConstraints = TO THE RIGHTBOTTOM;
                ADD PROPERTY(objectClassName);
                ADD PROPERTY(nameStockNaturalLoss);
                ADD PROPERTY(numberObject);
                ADD PROPERTY(seriesObject);
                ADD PROPERTY(dateNaturalLoss);
                ADD PROPERTY(timeNaturalLoss);
            };

            NEW headerCol1Row2 {
                childConstraints = TO THE RIGHT;
                ADD s.documentPrmGroup {
                }
            }

            ADD PROPERTY(noteNaturalLoss);
        }

        ADD s.documentSumGroup {
            childConstraints = TO THE BOTTOM;
        }
        PROPERTY(formOkAction) {
            caption = 'Провести';
        }
    }
}

FORM naturalLosses 'Ведомости естественной убыли'
    OBJECTS s=naturalLoss
    PROPERTIES(s) READONLY numberObject, seriesObject, dateNaturalLoss, timeNaturalLoss,
                           nameStockNaturalLoss, dateFromNaturalLoss, dateToNaturalLoss,
                           quantityNaturalLossDetailNaturalLoss, sumNaturalLoss, noteNaturalLoss
    PROPERTIES(s) ADDFORM, EDITFORM, delete FORCE PANEL DRAWTOTOOLBAR
    PROPERTIES(s) READONLY FORCE PANEL nameUserCreatedHistorizable, timeCreatedHistorizable, hostnameComputerCreatedHistorizable, nameUserClosed, timeClosed, hostnameComputerClosed
    OBJECTS d=naturalLossDetail
    PROPERTIES(d) READONLY indexNaturalLossDetail, idBarcodeSkuNaturalLossDetail, nameSkuNaturalLossDetail, shortNameUOMSkuNaturalLossDetail,
                           descriptionBatchNaturalLossDetail, quantityLossNaturalLossDetail,
                           nameSubNaturalLossGroupNaturalLossDetail, codeNaturalLossDetail, nameSubNaturalDetailNaturalLossDetail,
                           percentNaturalLossDetail, quantityNaturalLossDetail, priceNaturalLossDetail, sumNaturalLossDetail

    FILTERS inNaturalLossNaturalLossDetail(s, d)
;
@extendFormFilterAccess(naturalLoss, s, naturalLosses, stock);

DESIGN naturalLosses FROM DEFAULT {

    NEW topContainer{

        type = SPLITV;
        childConstraints = TO THE BOTTOM;

        ADD s.box;
        ADD d.box;
    }

    PROPERTY (delete(s)) {
        askConfirm = TRUE;
    }

    ADD s.historyGroup{
        childConstraints = TO THE BOTTOM;
    }

    ADD s.postedGroup{
        childConstraints = TO THE BOTTOM;
    }

    POSITION s.postedGroup TO THE RIGHT s.historyGroup;

    ADD functions.box;
}

NAVIGATOR {
    NEW naturalLossNavigator 'Естественная убыль' {
        ADD naturalLosses;
        ADD naturalLossGroups;
    }
}

//------------------- Справочник норм естественной убыли----------------------------//

loadDefaultNaturalLossGroup 'Добавить нормы естественной убыли' = ACTION (idCountry, string)  {
    ADDOBJ naturalLossGroup;
    FOR cg == addedObject() DO {
         SET name(cg) <- string AS STRING[110];
         SET countryNaturalLossGroup(cg) <- countrySID(idCountry);
    }
}

loadDefaultSubNaturalLossGroup 'Добавить нормы естественной убыли' = ACTION (idCountry, string, stringOne, stringTwo, numeric)  {
    ADDOBJ subNaturalLossGroup;
    FOR g == addedObject() DO {
        SET parentNaturalLossGroup(g) <- nameToNaturalLossGroup(string AS STRING[110]);
        SET name(g) <-  stringOne AS STRING[110];
        SET countrySubNaturalLossGroup(g) <- countrySID(idCountry);
        SET codeSubNaturalLossGroup(g) <- stringTwo AS STRING[3];

        ADDOBJ subNaturalLossGroupDetail;
        FOR d == addedObject() DO {
            SET subNaturalLossGroupSubNaturalLossGroupDetail(d) <- g AS subNaturalLossGroup;
            SET percentNaturalLossGroupDetail(d) <- numeric AS NUMERIC[10,5];
            SET dayFromNaturalLossGroupDetail(d) <- 1;
            SET monthFromNaturalLossGroupDetail(d) <- month.january AS month;
            SET dayToNaturalLossGroupDetail(d) <- 31;
            SET monthToNaturalLossGroupDetail(d) <- month.december AS month;
        }
    }
}

loadDefaultNaturalLossGroups 'Загрузить стандартные группы естественной убыли' = ACTION () {
    EXEC loadDefaultNaturalLossGroup('112', 'молоко разливное');
    EXEC loadDefaultNaturalLossGroup('112', 'молоко,сливки сух.,яич.порошок');
    EXEC loadDefaultNaturalLossGroup('112', 'мороженое вес. и проч.вес.мол.');
    EXEC loadDefaultNaturalLossGroup('112', 'КАРТОФЕЛЬ РАННИЙ');
    EXEC loadDefaultNaturalLossGroup('112', 'КАПУСТА БЕЛОКОЧАННАЯ СРЕДНЯЯ И ПОЗДНЯЯ, КРАСНОКОЧАННАЯ, САВОЙСКАЯ, КОЛЬРАБИ');
    EXEC loadDefaultNaturalLossGroup('112', 'КАПУСТА БЕЛОКОЧАННАЯ РАННЯЯ, ЦВЕТНАЯ, БРЮССЕЛЬСКАЯ');
    EXEC loadDefaultNaturalLossGroup('112', 'КОРНЕПЛОДЫ ОБРЕЗНЫЕ (СВЕКЛА, МОРКОВЬ, РЕДЬКА, ПЕТРУШКА, СЕЛЬДЕРЕЙ, ПАСТЕРНАК, ХРЕН И ДР.)');
    EXEC loadDefaultNaturalLossGroup('112', 'КОРНЕПЛОДЫ С ЗЕЛЕНЬЮ МОЛОДЫЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'РЕДИС');
    EXEC loadDefaultNaturalLossGroup('112', 'ЗЕЛЕНЬ СВЕЖАЯ (САЛАТ, УКРОП, ШПИНАТ, И ДР.) БОБОВЫЕ (ГОРОХ-ЛАПАТОЧКИ, ФАСОЛЬ-СТРУЧКИ) И ПР ОВОЩИ');
    EXEC loadDefaultNaturalLossGroup('112', 'ЛУК ЗЕЛЕНЫЙ, ЛУК-ПОРЕЙ, ЧЕСНОК ЗЕЛЕНЫЙ');
    EXEC loadDefaultNaturalLossGroup('112', 'ЛУК РЕПЧАТЫЙ');
    EXEC loadDefaultNaturalLossGroup('112', 'ЧЕСНОК');
    EXEC loadDefaultNaturalLossGroup('112', 'КУКУРУЗА В ПОЧАТКАХ МОЛОЧНО-ВОСКОВОЙ СПЕЛОСТИ');
    EXEC loadDefaultNaturalLossGroup('112', 'ТОМАТЫ (КРАСНЫЕ, РОЗОВЫЕ, БУРЫЕ, МОЛОЧНЫЕ)');
    EXEC loadDefaultNaturalLossGroup('112', 'БАКЛАЖАНЫ, КАБАЧКИ, ПЕРЕЦ СЛАДКИЙ И ГОРЬКИЙ СТРУЧКОВЫЙ, ПАТИССОНЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'БАХЧЕВЫЕ (АРБУЗЫ, ДЫНИ, ТЫКВА)');
    EXEC loadDefaultNaturalLossGroup('112', 'СЕМЕЧКОВЫЕ ПЛОДЫ (ЯБЛОКИ, ГРУШИ, АЙВА И ДР)');
    EXEC loadDefaultNaturalLossGroup('112', 'КОСТОЧКОВЫЕ ПЛОДЫ (ЧЕРЕШНИ, ВИШНИ, СЛИВЫ, АБРИКОСЫ, ПЕРСИКИ И ДР)');
    EXEC loadDefaultNaturalLossGroup('112', 'ГРАНАТЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'МАЛИНА, ЗЕМЛЯНИКА И КЛУБНИКА');
    EXEC loadDefaultNaturalLossGroup('112', 'ВИНОГРАД, СМОРОДИНА, КРЫЖОВНИК');
    EXEC loadDefaultNaturalLossGroup('112', 'ДИКОРАСТУЩИЕ (КЛЮКВА, БРУСНИКА, ОБЛЕПИХА И ДР.) ЯГОДЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'ГРИБЫ СВЕЖИЕ ВСЕХ ВИДОВ');
    EXEC loadDefaultNaturalLossGroup('112', 'МАНДАРИНЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'АПЕЛЬСИНЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'АНАНАСЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'БАНАНЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'ЛИМОНЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'ГРЕЙПФРУТЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'ПЛОДЫ, ОВОЩИ И ГРИБЫ ПЕРЕАБОТАННЫЕ. ФРУКТЫ СУШЕННЫЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'ФРУКТЫ И ОВОЩИ ЗАМОРОЖЕННЫЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'ОРЕХИ ВСЯКИЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'ОВОЩИ ЗЕЛЕНЬ СУШЕНЫЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'ОВОЩИ СОЛЕНЫЕ И КВАШЕНЫЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'ГРИБЫ СУШЕННЫЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'ГРИБЫ СОЛЕНЫЕ И МАРИНОВАННЫЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'ТОМАТ-ПАСТА И ТОМАТ-ПЮРЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'КАРТОФЕЛЬ ПОЗДНИЙ');
    EXEC loadDefaultNaturalLossGroup('112', 'ОГУРЦЫ ОТКРЫТОГО И ЗАКРЫТОГО ГРУНТА');
    EXEC loadDefaultNaturalLossGroup('112', 'ОВЕС И ЯЧМЕНЬ');
    EXEC loadDefaultNaturalLossGroup('112', 'ЖМЫХ И КОМБИКОРМ');
    EXEC loadDefaultNaturalLossGroup('112', 'ОТРУБИ И ДР.');
    EXEC loadDefaultNaturalLossGroup('112', 'КЕРОСИН ПРИ ПРОДАЖЕ ВЕСОВ');
    EXEC loadDefaultNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'КОНДИТЕРСКИЕ ТОВАРЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'МОЛОЧНЫЕ И ЖИРОВЫЕ ТОВАРЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'МЯСО МОРОЖЕНОЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'МЯСО ОХЛАЖДЕННОЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'МЯСО ОХОЛЖДЕННОЕ');
    EXEC loadDefaultNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'СУБПРОДУКТЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'СЫРЫ');
    EXEC loadDefaultNaturalLossGroup('112', 'ХЛЕБОБУЛОЧНЫЕ ТОВАРЫ');
    EXEC loadDefaultSubNaturalLossGroup('112', 'молоко разливное','молоко разливное','05А',0.05);
    EXEC loadDefaultSubNaturalLossGroup('112', 'молоко,сливки сух.,яич.порошок','молоко,сливки сух.,яич.порошок','05Б',0.25);
    EXEC loadDefaultSubNaturalLossGroup('112', 'мороженое вес. и проч.вес.мол.','мороженое вес. и проч.вес.мол.','05В',0.3);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КАРТОФЕЛЬ РАННИЙ','КАРТОФЕЛЬ РАННИЙ','101',0.68);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КАПУСТА БЕЛОКОЧАННАЯ СРЕДНЯЯ И ПОЗДНЯЯ, КРАСНОКОЧАННАЯ, САВОЙСКАЯ, КОЛЬРАБИ','КАПУСТА БЕЛОКОЧАННАЯ СРЕДНЯЯ И ПОЗДНЯЯ, КРАСНОКОЧАННАЯ, САВОЙСКАЯ, КОЛЬРАБИ','102',0.63);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КАПУСТА БЕЛОКОЧАННАЯ РАННЯЯ, ЦВЕТНАЯ, БРЮССЕЛЬСКАЯ','КАПУСТА БЕЛОКОЧАННАЯ РАННЯЯ, ЦВЕТНАЯ, БРЮССЕЛЬСКАЯ','103',0.82);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОРНЕПЛОДЫ ОБРЕЗНЫЕ (СВЕКЛА, МОРКОВЬ, РЕДЬКА, ПЕТРУШКА, СЕЛЬДЕРЕЙ, ПАСТЕРНАК, ХРЕН И ДР.)','КОРНЕПЛОДЫ ОБРЕЗНЫЕ (СВЕКЛА, МОРКОВЬ, РЕДЬКА, ПЕТРУШКА, СЕЛЬДЕРЕЙ, ПАСТЕРНАК, ХРЕН И ДР.)','104',0.69);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОРНЕПЛОДЫ С ЗЕЛЕНЬЮ МОЛОДЫЕ','КОРНЕПЛОДЫ С ЗЕЛЕНЬЮ МОЛОДЫЕ','105',1.03);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЕДИС','РЕДИС','106',0.81);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ЗЕЛЕНЬ СВЕЖАЯ (САЛАТ, УКРОП, ШПИНАТ, И ДР.) БОБОВЫЕ (ГОРОХ-ЛАПАТОЧКИ, ФАСОЛЬ-СТРУЧКИ) И ПР ОВОЩИ','ЗЕЛЕНЬ СВЕЖАЯ (САЛАТ, УКРОП, ШПИНАТ, И ДР.) БОБОВЫЕ (ГОРОХ-ЛАПАТОЧКИ, ФАСОЛЬ-СТРУЧКИ) И ПР ОВОЩИ','107',1.41);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ЛУК ЗЕЛЕНЫЙ, ЛУК-ПОРЕЙ, ЧЕСНОК ЗЕЛЕНЫЙ','ЛУК ЗЕЛЕНЫЙ, ЛУК-ПОРЕЙ, ЧЕСНОК ЗЕЛЕНЫЙ','108',0.99);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ЛУК РЕПЧАТЫЙ','ЛУК РЕПЧАТЫЙ','109',0.46);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ЧЕСНОК','ЧЕСНОК','110',0.49);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КУКУРУЗА В ПОЧАТКАХ МОЛОЧНО-ВОСКОВОЙ СПЕЛОСТИ','КУКУРУЗА В ПОЧАТКАХ МОЛОЧНО-ВОСКОВОЙ СПЕЛОСТИ','111',0.67);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ТОМАТЫ (КРАСНЫЕ, РОЗОВЫЕ, БУРЫЕ, МОЛОЧНЫЕ)','ТОМАТЫ (КРАСНЫЕ, РОЗОВЫЕ, БУРЫЕ, МОЛОЧНЫЕ)','113',0.64);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКЛАЖАНЫ, КАБАЧКИ, ПЕРЕЦ СЛАДКИЙ И ГОРЬКИЙ СТРУЧКОВЫЙ, ПАТИССОНЫ','БАКЛАЖАНЫ, КАБАЧКИ, ПЕРЕЦ СЛАДКИЙ И ГОРЬКИЙ СТРУЧКОВЫЙ, ПАТИССОНЫ','114',0.75);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАХЧЕВЫЕ (АРБУЗЫ, ДЫНИ, ТЫКВА)','БАХЧЕВЫЕ (АРБУЗЫ, ДЫНИ, ТЫКВА)','115',0.42);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СЕМЕЧКОВЫЕ ПЛОДЫ (ЯБЛОКИ, ГРУШИ, АЙВА И ДР)','СЕМЕЧКОВЫЕ ПЛОДЫ (ЯБЛОКИ, ГРУШИ, АЙВА И ДР)','116',0.43);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОСТОЧКОВЫЕ ПЛОДЫ (ЧЕРЕШНИ, ВИШНИ, СЛИВЫ, АБРИКОСЫ, ПЕРСИКИ И ДР)','КОСТОЧКОВЫЕ ПЛОДЫ (ЧЕРЕШНИ, ВИШНИ, СЛИВЫ, АБРИКОСЫ, ПЕРСИКИ И ДР)','117',0.67);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ГРАНАТЫ','ГРАНАТЫ','118',0.6);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МАЛИНА, ЗЕМЛЯНИКА И КЛУБНИКА','МАЛИНА, ЗЕМЛЯНИКА И КЛУБНИКА','119',1.05);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ВИНОГРАД, СМОРОДИНА, КРЫЖОВНИК','ВИНОГРАД, СМОРОДИНА, КРЫЖОВНИК','120',0.66);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ДИКОРАСТУЩИЕ (КЛЮКВА, БРУСНИКА, ОБЛЕПИХА И ДР.) ЯГОДЫ','ДИКОРАСТУЩИЕ (КЛЮКВА, БРУСНИКА, ОБЛЕПИХА И ДР.) ЯГОДЫ','121',0.48);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ГРИБЫ СВЕЖИЕ ВСЕХ ВИДОВ','ГРИБЫ СВЕЖИЕ ВСЕХ ВИДОВ','122',1.26);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МАНДАРИНЫ','МАНДАРИНЫ','123',0.13);
    EXEC loadDefaultSubNaturalLossGroup('112', 'АПЕЛЬСИНЫ','АПЕЛЬСИНЫ','124',0.21);
    EXEC loadDefaultSubNaturalLossGroup('112', 'АНАНАСЫ','АНАНАСЫ','125',0.38);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАНАНЫ','БАНАНЫ','126',0.48);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ЛИМОНЫ','ЛИМОНЫ','127',0.21);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ГРЕЙПФРУТЫ','ГРЕЙПФРУТЫ','128',0.25);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ПЛОДЫ, ОВОЩИ И ГРИБЫ ПЕРЕАБОТАННЫЕ. ФРУКТЫ СУШЕННЫЕ','ПЛОДЫ, ОВОЩИ И ГРИБЫ ПЕРЕАБОТАННЫЕ. ФРУКТЫ СУШЕННЫЕ','129',0.02);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ФРУКТЫ И ОВОЩИ ЗАМОРОЖЕННЫЕ','ФРУКТЫ И ОВОЩИ ЗАМОРОЖЕННЫЕ','130',0.15);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ОРЕХИ ВСЯКИЕ','ОРЕХИ ВСЯКИЕ','131',0.08);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ОВОЩИ ЗЕЛЕНЬ СУШЕНЫЕ','ОВОЩИ ЗЕЛЕНЬ СУШЕНЫЕ','132',0.01);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ОВОЩИ СОЛЕНЫЕ И КВАШЕНЫЕ','ОВОЩИ СОЛЕНЫЕ И КВАШЕНЫЕ','133',0.04);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ГРИБЫ СУШЕННЫЕ','ГРИБЫ СУШЕННЫЕ','134',0.07);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ГРИБЫ СОЛЕНЫЕ И МАРИНОВАННЫЕ','ГРИБЫ СОЛЕНЫЕ И МАРИНОВАННЫЕ','135',0.1);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ТОМАТ-ПАСТА И ТОМАТ-ПЮРЕ','ТОМАТ-ПАСТА И ТОМАТ-ПЮРЕ','136',0.05);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КАРТОФЕЛЬ ПОЗДНИЙ','КАРТОФЕЛЬ ПОЗДНИЙ','100',0.33);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ОГУРЦЫ ОТКРЫТОГО И ЗАКРЫТОГО ГРУНТА','ОГУРЦЫ ОТКРЫТОГО И ЗАКРЫТОГО ГРУНТА','112',0.9);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ОВЕС И ЯЧМЕНЬ','ОВЕС И ЯЧМЕНЬ','137',0.1);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ЖМЫХ И КОМБИКОРМ','ЖМЫХ И КОМБИКОРМ','138',0.08);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ОТРУБИ И ДР.','ОТРУБИ И ДР.','139',0.12);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КЕРОСИН ПРИ ПРОДАЖЕ ВЕСОВ','КЕРОСИН ПРИ ПРОДАЖЕ ВЕСОВ','140',0.08);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ','крупа,включая зернобоб.и саго','080',0.14);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ','макаронные изделия','081',0.21);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ','мука и крахмал','082',0.14);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ','сахар-песок','083',0.08);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ','сахар рафинад','084',0.13);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ','сахарная пудра','085',0.21);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ','кофе в зернах','086',0.1);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ','соль поваренная','087',0.32);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ','дрожжи пресованные','088',0.39);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ','прочие весовые бакалейные т-ры','089',0.11);
    EXEC loadDefaultSubNaturalLossGroup('112', 'БАКАЛЕЙНЫЕ ТОВАРЫ','соки и безалк.напитки в розлив','08А',0.04);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОНДИТЕРСКИЕ ТОВАРЫ','Карамель,ирис и драже','070',0.1);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОНДИТЕРСКИЕ ТОВАРЫ','конфеты глазированные','071',0.15);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОНДИТЕРСКИЕ ТОВАРЫ','конфеты неглазированные','072',0.26);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОНДИТЕРСКИЕ ТОВАРЫ','мармелад и пат','073',0.33);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОНДИТЕРСКИЕ ТОВАРЫ','пастила и зефир','074',0.46);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОНДИТЕРСКИЕ ТОВАРЫ','халва','075',0.55);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОНДИТЕРСКИЕ ТОВАРЫ','мед и повидло','076',0.45);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОНДИТЕРСКИЕ ТОВАРЫ','печенье,галеты и вафли','077',0.22);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОНДИТЕРСКИЕ ТОВАРЫ','пряники и коврижки','078',0.34);
    EXEC loadDefaultSubNaturalLossGroup('112', 'КОНДИТЕРСКИЕ ТОВАРЫ','прочие весовые кондитер. т-ры','079',0.15);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МОЛОЧНЫЕ И ЖИРОВЫЕ ТОВАРЫ','масло коровье(слив.,топленое)','050',0.15);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МОЛОЧНЫЕ И ЖИРОВЫЕ ТОВАРЫ','маргарин,жиры топл.и кулинар.','051',0.15);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МОЛОЧНЫЕ И ЖИРОВЫЕ ТОВАРЫ','масло растител.(ручная продажа','052',0.25);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МОЛОЧНЫЕ И ЖИРОВЫЕ ТОВАРЫ','сметана,творог,творож.масса','053',0.46);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО МОРОЖЕНОЕ','говядина,телятина,баранина','010',0.33);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО МОРОЖЕНОЕ','свинина','012',0.3);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО МОРОЖЕНОЕ','куры,кролики(кр/полим.пленки)','013',0.19);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО МОРОЖЕНОЕ','гуси,утки,индейки и др.','014',0.3);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО МОРОЖЕНОЕ','мясо птицы в полимер.пленке','015',0.05);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО МОРОЖЕНОЕ','мясо диких животных (кабана, медведя, лося, сайгака и др.)','016',0.47);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО ОХЛАЖДЕННОЕ','говядина,телятина,баранина','020',0.58);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО ОХЛАЖДЕННОЕ','свинина','021',0.51);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО ОХЛАЖДЕННОЕ','куры,цыплята-бройлеры,кролики','022',0.37);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО ОХЛАЖДЕННОЕ','гуси,утки,индейки','023',0.47);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО ОХЛАЖДЕННОЕ','мясо птицы в полимерной пленке','024',0.2);
    EXEC loadDefaultSubNaturalLossGroup('112', 'МЯСО ОХОЛЖДЕННОЕ','мясо диких животных (кабана, медведя, лося, сайгака и др.)','025',0.64);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','рыба живая','040',0.1);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','рыба любая и мидии охлажд.','041',0.6);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','рыба,рыбн.товары морож.неглазир','042',0.27);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','рыба соленая в сухотарн.бочках','044',0.4);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','рыба лососев.,прод-мая нарезной','045',0.3);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','рыба(кроме осетр.) горяч.копчен','046',0.37);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','рыба и рыб.т-ры осетр.гор.копч.','047',0.3);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','рыба и рыбн.т-ры холод.копч.','048',0.35);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','балыч.изд.холод.копч.(б/нарезки','049',0.33);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','балыч.изд.холод.копч.(внарезку)','04А',0.28);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','рыбные т-ры сол.-суш.и вяленые','04Б',0.2);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','икра осетровых,лососевых,прочих','04В',0.18);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','кулинария(рыбная)','04Г',0.36);
    EXEC loadDefaultSubNaturalLossGroup('112', 'РЫБА И РЫБНЫЕ ТОВАРЫ','проч.вес.т-ры из морепродуктов','04Д',0.28);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','ноги','030',0.35);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','головы мороженые','031',0.35);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','головы охлажденные','032',0.54);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','прочие субпродукты мороженые','033',0.4);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','прочие субпродукты охлажденные','034',1.62);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','полуфабрикаты весовые','035',0.4);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','жир-сырец мороженый','036',0.16);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','кул-рия вес.(студни,пашт.мясо)','037',0.3);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','жир-сырец охлажденный','038',0.32);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','колбасы вареные','039',0.53);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','сосиски и сардельки','03А',0.75);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','колбасы полукопченые','03Б',0.32);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','колбасы варено-копченые','03В',0.36);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','колбасы сырокопченые','03Г',0.06);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','мясокопчености сырокопченые','03Д',0.25);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','мясокопчен.копч.-варен.копч.-за','03Е',0.48);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','мясокопч.вареные,запеченые,жарен','03Ж',0.59);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','шпик свиной и товары из шпика','03З',0.26);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СУБПРОДУКТЫ','прочие весовые мясные товары','03И',0.3);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СЫРЫ','в парафиновом покрытии','054',0.3);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СЫРЫ','колбасный копченый плавленый','055',0.4);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СЫРЫ','в полимерной пленке','056',0.4);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СЫРЫ','в фольге или пергаменте','057',0.55);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СЫРЫ','без покрытия(без рассола)','058',0.3);
    EXEC loadDefaultSubNaturalLossGroup('112', 'СЫРЫ','в рассоле(брынза и др.)','059',0.25);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ХЛЕБОБУЛОЧНЫЕ ТОВАРЫ','хлеб печеный','060',0.5);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ХЛЕБОБУЛОЧНЫЕ ТОВАРЫ','бараночные изделия','061',0.35);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ХЛЕБОБУЛОЧНЫЕ ТОВАРЫ','сухари','062',0.3);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ХЛЕБОБУЛОЧНЫЕ ТОВАРЫ','пироги и кулебяки','064',0.45);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ХЛЕБОБУЛОЧНЫЕ ТОВАРЫ','лаваш и чурек','065',0.35);
    EXEC loadDefaultSubNaturalLossGroup('112', 'ХЛЕБОБУЛОЧНЫЕ ТОВАРЫ','прочие весовые хлебобул.товары','066',0.3);
} IN loadDefaultGroup;

@implementLoadDefaultData(loadDefaultNaturalLossGroups);