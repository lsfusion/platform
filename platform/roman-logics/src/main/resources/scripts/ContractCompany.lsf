MODULE ContractCompany;

REQUIRE StockContract, Company;

NAMESPACE Contract;

//CLASS ContractSkuCompany 'Договор на поставку между компаниями' : ContractSku;
//
//companyAContractSkuCompany = DATA Company (ContractSkuCompany) AUTOSET;
//nameCompanyAContractSkuCompany 'Компания (поставщик)' (contract) = name(companyAContractSkuCompany(contract)) IN recognize MAXCHARWIDTH 30 PREFCHARWIDTH 30;
//partyAContract (contract) += companyAContractSkuCompany(contract);
//
//companyBContractSkuCompany = DATA Company (ContractSkuCompany) AUTOSET;
//nameCompanyBContractSkuCompany 'Компания (покупатель)' (contract) = name(companyBContractSkuCompany(contract)) IN recognize MAXCHARWIDTH 30 PREFCHARWIDTH 30;
//partyBContract (contract) += companyBContractSkuCompany(contract);
//
//@defineContractDefault(contractSkuCompany, company, company, companyA, companyB);
//
//// Формы
//FORM contractSkuCompany 'Договор'
//    OBJECTS c=ContractSkuCompany FIXED PANEL
//    PROPERTIES(c) nameCompanyAContractSkuCompany, nameCompanyBContractSkuCompany,
//                  numberContract, dateFromContract, dateToContract,
//                  nameCurrencyContract, noteContract
//
//    OBJECTS pc = PaymentCondition
//    PROPERTIES(pc) READONLY datePaymentCondition, numberContractPaymentCondition,
//                            nameFormPaymentCondition
//    PROPERTIES(pc) ADDSESSIONFORM, EDITSESSIONFORM, delete
//    ORDER BY datePaymentCondition
//
//    FILTERS contractPaymentCondition(pc) == c
//
//    EDIT ContractSkuCompany OBJECT c
//;
//
//FORM contractsSkuCompany 'Договора'
//    OBJECTS c=ContractSkuCompany
//    PROPERTIES(c) READONLY numberContract, dateFromContract, dateToContract,
//                           nameCompanyAContractSkuCompany, nameCompanyBContractSkuCompany, nameTypeContractSku
//
//    PROPERTIES(c) ADDFORM, EDITFORM, delete
//    ORDER BY dateFromContract
//
//    DIALOG ContractSkuCompany OBJECT c
//;
//
//EXTEND FORM company
//
//    OBJECTS cb=Company
//    PROPERTIES(cb) name
//    PROPERTIES(co, cb)    numberContractSkuCompanyCompanyACompanyB
//
//    OBJECTS cc=ContractSkuCompany
//    PROPERTIES(cc)  READONLY numberContract, dateFromContract, dateToContract,
//                            nameTypeContractSku,
//                            nameCurrencyContract, noteContract
//    PROPERTIES(co, cb, cc) isCompanyACompanyBContractSkuCompany
//    PROPERTIES(cc)  ADDFORM, EDITFORM, delete
//    FILTERS companyAContractSkuCompany(cc) == co,
//            companyBContractSkuCompany(cc) == cb
//;
//
//EXTEND DESIGN company {
//    extendContainer {
//        NEW companyContractSku {
//            title = 'Договора между компаниями';
//            type = SPLITH;
//            childConstraints = TO THE RIGHT;
//
//            ADD cb.box;
//            ADD cc.box {
//                fillHorizontal = 2;
//            }
//        }
//    }
//}