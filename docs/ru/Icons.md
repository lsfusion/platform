---
title: 'Механизм установки иконок'
---

В платформе lsFusion разработчики могут вручную устанавливать иконки для элементов интерфейса, соответствующих [свойствам](Properties.md), [действиям](Actions.md), [формам](Forms.md), [контейнерам](Form_design.md#containers), [элементам навигатора](Navigator.md). Для этого можно указать путь к файлу изображения или CSS-классы иконок.

Кроме того, в платформе есть механизм, который может автоматически устанавливать подходящие иконки для этих элементов. Механизм анализирует их имена и заголовки и выбирает наиболее подходящие иконки из доступных наборов.

## Ручная установка {#manual}

Иконка задается с помощью строкового литерала, который может быть задан одним из следующих способов:

- Путь к файлу: `'path/to/image.png'` (указывается относительно каталога `images`)
- CSS-классы шрифта: `'fa fa-user'` (Font Awesome), `'bi bi-person'` (Bootstrap Icons)

:::info
*CSS-классы шрифта* — это CSS-классы для отображения векторных иконок из специальных шрифтов. Такие иконки масштабируются без потери качества и занимают меньше места, чем растровые изображения.
:::

Платформа поддерживает использование бесплатных иконок из двух популярных наборов: **Font Awesome** и **Bootstrap Icons**.

## Автоматическая установка {#auto}

:::info
Автоматическая установка иконок работает только если к проекту подключен модуль `Icon.lsf`. 
:::


### Общая логика

1. Из имени или заголовка элемента извлекаются ключевые слова для поиска.
2. По этим ключевым словам подбираются кандидаты, выбирается иконка с наивысшим рангом совпадения.
3. Если ранг не ниже порога для данного типа элемента, используется найденная иконка.
4. Иначе применяется иконка по умолчанию для этого типа элемента (если ее использование включено).

### Определение ключевых слов для поиска

Ключевые слова формируются из заголовка и/или имени элемента по следующим правилам:

1. Сначала используется заголовок. Если он локализуемый, берётся его английский вариант.
2. Текст разбивается на ключевые слова, при необходимости короткие слова удаляются.
3. Если заголовка нет, или в результате его обработки не формируется список ключевых слов, используется имя элемента и обрабатывается тем же образом.

### Настройки и параметры

Автоматическая установка иконок настраивается с помощью набора [параметров работы](Working_parameters.md#iconSettings).

Параметры, позволяющие изменить пороговые значения:

| Параметр                                   | Область действия                      | Порог по умолчанию |
|--------------------------------------------|---------------------------------------|--------------------|
| `defaultAutoImageRankingThreshold`         | Все авто-иконки                       | `0.0`              |
| `defaultNavigatorImageRankingThreshold`    | Элементы навигатора                   | `0.1`              |
| `defaultContainerImageRankingThreshold`    | Контейнеры и формы                    | `0.6`              |
| `defaultPropertyImageRankingThreshold`     | Свойства и действия                   | `0.8`              |

Параметры, позволяющие включить/отключить использование иконок по умолчанию:

| Параметр                   | Тип элементов           | Значение по умолчанию |
|----------------------------|-------------------------|-----------------------|
| `defaultNavigatorImage`    | Элементы навигатора     | `true`                |
| `defaultContainerImage`    | Контейнеры и формы      | `false`               |
| `defaultPropertyImage`     | Свойства и действия     | `false`               |

По умолчанию автоматическая установка иконки элементов включена только для элементов навигатора. 