---
title: 'Опции действия'
---

При объявлении [действия](Actions.md) в [инструкции `ACTION`](ACTION_statement.md) в конце объявления может указываться некоторый набор *опций действия*. 

## Синтаксис

Опции перечисляются друг за другом в произвольном порядке через пробел или переводы строк:

    propertyOption1 ... propertyOptionN

Поддерживается следующий набор опций (синтаксис каждой опции указывается в отдельной строке):

    IN groupName
    viewType
    ON eventType { actionOperator }
    CHANGEKEY key [SHOW | HIDE]
    ASON eventType [ACTION] propertyId
    IMAGE path
    CONFIRM

## Описание и параметры

- `IN groupName`

    Указание [группы свойств и действий](Groups_of_properties_and_actions.md), к которой принадлежит действие. Если опция не указывается, то действие по умолчанию будет принадлежать группе `System.private`.

    - `groupName`
    
        Имя группы. [Составной идентификатор](IDs.md#cid).

### Блок интерактивного представления

- `viewType`

    Указание типа [представления действия](Interactive_view.md#property) при добавлении на форму.

    - `GRID` - колонка таблицы
    - `TOOLBAR` - тулбар
    - `PANEL` - панель

  По действию аналогично указанию опции viewType в [блоке свойств](Properties_and_actions_block.md) [инструкции `FORM`](FORM_statement.md). Соответственно, если эта опция не указана ни в опциях действий, ни в блоке свойств непосредственно на форме, используется тип [представления по умолчанию](Interactive_view.md#property) для группы отображения, добавляемого на форму действия.

- `ON eventType { actionOperator }`

    Указание действия, которое будет обработкой по умолчанию некоторого [события](Form_events.md) всех интерактивных представлений этого действия. Могут быть переопределены в блоке свойств инструкции `FORM`.

    - `eventType`

        Тип [события формы](Form_events.md), задается одним из следующих ключевых слов:

        - `CHANGE` - попытка изменения значения указанного свойства
        - `CHANGEWYS` - попытка изменения значения указанного свойства с помощью специального механизма ввода. Подробнее можно прочитать в описании [событий формы](Form_events.md) 
        - `GROUPCHANGE` - попытка изменения значения свойства для всех объектов в таблице (групповое редактирование)
        - `EDIT` - попытка редактирования объекта, который является значением указанного свойства
        - `CONTEXTMENU [caption]` - пользователь выбрал в контекстном меню свойства на форме заданный пункт. Также при необходимости можно задать заголовок этого пункта меню ([строковый литерал](Literals.md#strliteral)). Если этого не сделать, то, по умолчанию, он будет равен заголовку действия.

    - `actionOperator`

        [Контекстно-зависимый оператор-действие](Action_operators.md). Оператор, описывающий выполняемое по событию действие. В качестве параметров оператора можно использовать параметры самого свойства.

- `ASON eventType [ACTION] propertyId`

    Указание того, что это действие будет являться обработкой по умолчанию некоторого [события](Form_events.md) всех интерактивных представлений заданного свойства или действия. Может быть переопределено в [блоке свойств и действий](Properties_and_actions_block.md) инструкции `FORM`. 

    - `eventType`

        Аналогично блоку `ON`.

    - `propertyId`

        [Идентификатор свойства или действия](IDs.md#propertyid), для которого создаваемое действие будет выполняться при возникновении указанного события формы.

    - `ACTION`

        Ключевое слово. Если задано, то считается, что в `propertyId` задается действие. Если не задано, первоначально считается, что в `propertyId` задается свойство, и только если оно не найдено, что в `propertyId` задается действие.

- `IMAGE path`

    Указание файла с картинкой, которая будет отображаться в качестве иконки для действия.

    - `path`
    
        Относительный путь к файлу. [Строковый литерал](Literals.md#strliteral). Путь указывается относительно каталога `images`.

### Блок значений по умолчанию инструкции `DESIGN`

- `CHANGEKEY key [SHOW | HIDE]`

    Указание [комбинации клавиш](Form_events.md#keyboard), при нажатии которой будет выполнено это действие. Устанавливает значение для [дизайна по умолчанию](Form_design.md#defaultDesign), может быть переопределено в [инструкции `DESIGN`](DESIGN_statement.md).

    - `key`
    
        [Строковый литерал](Literals.md#strliteral), описывающий комбинацию клавиш. Принцип задания аналогичен способу задания параметра в методе Java-класса [Keystroke.getKeystroke(String)](http://docs.oracle.com/javase/7/docs/api/javax/swing/KeyStroke.html#getKeyStroke(java.lang.String)).

    - `SHOW`
    
        Ключевое слово, при указании которого комбинация клавиш будет отображаться в заголовке действия. Используется по умолчанию.

    - `HIDE`
    
        Ключевое слово, при указании которого комбинация клавиш не будет отображаться в заголовке действия. 

- `CONFIRM`

    Ключевое слово. Если указано, то при запуске действия будет задан вопрос о подтверждении запуска. Устанавливает значение для дизайна по умолчанию, может быть переопределено в инструкции `DESIGN`.

  
